@using System.Data
@model IEnumerable<FridgesWebApp.Models.FridgeProductsEntity>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


<div class="col-4">
    <h2>Products</h2>
</div>

@using (Html.BeginForm())
{
    Guid FridgeId = new Guid("00000000-0000-0000-0000-000000000000");
    Guid ProductId = new Guid("00000000-0000-0000-0000-000000000000");

    @if (Model != null)
    {
        @foreach (var Id in Model)
        {
            FridgeId = Id.Fridge_Id;
            ProductId = Id.Product_Id;
        }

        @Html.ActionLink("Add Product", "CreateFridgeProduct", new { Fridge_Id = FridgeId, Product_Id = ProductId})

        <table class="table table-bordered table-striped" style="width:100%">
            <thead>
                <tr>
                    <th>@Html.DisplayName("Product")</th>
                    <th>@Html.DisplayName("Quantity")</th>
                    <th>@Html.DisplayName("Tools")</th>
                </tr>

            </thead>

            <tbody>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelitem => item.Product)</td>
                        <td>@Html.DisplayFor(modelitem => item.Quantity)</td>

                        <td>
                            @Html.ActionLink("Edit", "EditFridgeProduct", new { Fridge_Id = item.Fridge_Id, Product_Id = item.Product_Id}) |
                            <a href="" id="deleteItem" class="deleteItem" data-target="#basic" data-toggle="modal"
                         data-path="@Url.Action("DeleteFridgeProduct", "Fridges", new { Fridge_Id = item.Fridge_Id, Product_Id = item.Product_Id })">Delete</a>
                            <!-- Modal -->
                            <div class="modal fade" id="basic" tabindex="-1" role="basic" aria-hidden="true" style="display: none;">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                            <h4 class="modal-title">Delete Confirmation</h4>
                                        </div>
                                        <div class="modal-body">

                                            Are you sure you want to delete this product ?
                                        </div>
                                        <div class="modal-footer">
                                            <button data-dismiss="modal" type="button" class="btn btn-default">Cancel</button>
                                            <button id="btnContinueDelete" type="button" class="btn btn-primary">Delete</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        @foreach (var Id in ViewData)
        {
            FridgeId = new Guid($"{Id.Value}");
        }
        @Html.ActionLink("Add Product", "CreateFridgeProduct", new { Fridge_Id = FridgeId})
        <div class="text-center">    
        <h3>No products yet!</h3>
        </div>
    }
}
 <script type="text/javascript">
    var path_to_delete;

    $(".deleteItem").click(function (e) {
        path_to_delete = $(this).data('path');
    });

    $('#btnContinueDelete').click(function () {
        window.location = path_to_delete;
    });

 </script>

<div>
    @Html.ActionLink("Back to List", "GetFridges")
</div>

 